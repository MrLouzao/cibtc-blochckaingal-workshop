<mat-card style="width: 90%; margin-top: 1em;">
  <h4 class="botton-line" style="padding: .5em;">Detalle do producto <span class="clickable bcg-color" (click)="hide.emit()">(Ocultar)</span></h4>
  <div class="two-col">
    <div id="qr-code" style="min-width: 35%;">
      <ngx-qrcode id="qr-image" qrc-class="qr-img" *ngIf="productId" [qrc-element-type]="elementType" [qrc-value] = "productId"></ngx-qrcode>
      <p class="no-margin">{{productId}}</p>
    </div>

    <div style="min-width: 60%;">
      <h4>Eventos</h4>

      <p *ngIf="productTraces.length == 0">Non hay eventos rexistrados para este producto</p>
      <div *ngIf="productTraces.length > 0">
        <p *ngFor="let trace of productTraces">{{trace}}</p>
      </div>


      <!-- New trace button -->
      <p *ngIf="!showNewTrace">
        <button mat-mini-fab class="bg-green" style="transform: scale(.7)" (click)="showNewTrace=true">
            <mat-icon>add</mat-icon>
        </button>
        Engadir novo evento
      </p>
      <div *ngIf="showNewTrace">
          <mat-card style="margin-top: 1em;">
              <h4 class="botton-line" style="padding: .5em;">Nova traza <span class="clickable bcg-color" (click)="showNewTrace=false">(Ocultar)</span></h4>
              <mat-icon matSuffix style="margin-right:1em">settings_input_hdmi</mat-icon>
              <mat-form-field style="min-width: 60%">
                <input [(ngModel)]="newTraceToSave" type="text" matInput placeholder="Texto do evento">
              </mat-form-field>
              <button mat-raised-button class="bg-green" style="margin-left: 1em;" (click)="saveNewTrace()"> 
                  Salvar traza
              </button>
          </mat-card>
      </div>


    </div>
  </div>
</mat-card>


